/**
 * CCT API Client v1 - Secure & Backward Compatible
 * Exported as a string for serving from Cloudflare Worker
 * No hardcoded API keys but graceful degradation for unauthenticated requests
 */
export declare const API_CLIENT_CONTENT = "/**\n * CCT API Client v1 - Secure & Backward Compatible\n * No hardcoded API keys but graceful degradation for unauthenticated requests\n */\n\nclass CCTApiClient {\n  constructor(options = {}) {\n    this.baseUrl = options.baseUrl || '/api/v1';\n    this.apiKey = options.apiKey || this.getStoredApiKey() || null;\n    this.defaultHeaders = {\n      'Content-Type': 'application/json',\n      ...options.headers,\n    };\n\n    // Only add API key header if we have one\n    if (this.apiKey) {\n      this.defaultHeaders['X-API-Key'] = this.apiKey;\n    }\n    this.timeout = options.timeout || 30000;\n    this.enableCache = options.enableCache !== false;\n    this.cache = new Map();\n    this.cacheTimeout = options.cacheTimeout || 300000;\n  }\n\n  getStoredApiKey() {\n    if (typeof localStorage !== 'undefined') {\n      return localStorage.getItem('cct_api_key');\n    }\n    return null;\n  }\n\n  setApiKey(apiKey) {\n    this.apiKey = apiKey;\n    if (this.apiKey) {\n      this.defaultHeaders['X-API-Key'] = apiKey;\n    } else {\n      delete this.defaultHeaders['X-API-Key'];\n    }\n    // SECURITY: Session-based only - no localStorage storage\n  }\n\n  async request(endpoint, options = {}) {\n    const url = `${this.baseUrl}${endpoint}`;\n    const config = {\n      headers: { ...this.defaultHeaders, ...options.headers },\n      timeout: this.timeout,\n      ...options\n    };\n\n    try {\n      const response = await fetch(url, config);\n\n      if (response.status === 401) {\n        console.warn('Authentication required for:', endpoint);\n        // Don't throw; return a structured error for unauthenticated requests\n        return { success: false, error: 'Authentication required', data: null };\n      }\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('API request failed:', error.message);\n      throw error;\n    }\n  }\n\n  // Public endpoints (work without authentication)\n  async getSymbols() {\n    return this.request('/data/symbols');\n  }\n\n  async getHealth() {\n    return this.request('/data/health');\n  }\n\n  // Protected endpoints (require authentication)\n  async getSentimentAnalysis(symbols) {\n    return this.request(`/sentiment/symbols/${Array.isArray(symbols) ? symbols.join(',') : symbols}`);\n  }\n\n  async getMarketSentiment() {\n    return this.request('/sentiment/market');\n  }\n\n  async getDailyReport(date) {\n    return this.request(`/reports/daily/${date}`);\n  }\n\n  async getPreMarketBriefing() {\n    return this.request('/reports/pre-market');\n  }\n\n  async getIntradayCheck() {\n    return this.request('/reports/intraday');\n  }\n\n  async getEndOfDaySummary() {\n    return this.request('/reports/end-of-day');\n  }\n\n  async getSymbolHistory(symbol, period = '1mo') {\n    return this.request(`/data/history/${symbol}?period=${period}`);\n  }\n\n  async getMarketRegime() {\n    return this.request('/market/regime');\n  }\n\n  async getPredictiveSignals(symbols) {\n    return this.request(`/predictive/signals/${Array.isArray(symbols) ? symbols.join(',') : symbols}`);\n  }\n\n  async getSectorSnapshot() {\n    return this.request('/sectors/snapshot');\n  }\n\n  async getSectorAnalysis() {\n    return this.request('/sectors/analysis');\n  }\n\n  async getPortfolioCorrelation(symbols) {\n    return this.request('/portfolio/correlation', {\n      method: 'POST',\n      body: JSON.stringify({ symbols })\n    });\n  }\n\n  async getRiskMetrics(symbols) {\n    return this.request(`/risk/metrics/${Array.isArray(symbols) ? symbols.join(',') : symbols}`);\n  }\n\n  async getTechnicalAnalysis(symbol, indicators = []) {\n    return this.request(`/technical/analysis/${symbol}?indicators=${indicators.join(',')}`);\n  }\n\n  // Cache management\n  clearCache() {\n    this.cache.clear();\n  }\n}\n\n// Initialize global API client with backward compatibility\nwindow.cctApi = new CCTApiClient({\n  baseUrl: window.location.origin,\n  apiKey: (() => {\n    try {\n      return localStorage.getItem('cct_api_key');\n    } catch (e) {\n      return null;\n    }\n  })(),\n  timeout: 30000,\n  enableCache: true,\n  cacheTimeout: 300000\n});\n\n// Global authentication function\nwindow.setCctApiKey = function(apiKey) {\n  if (window.cctApi) {\n    window.cctApi.setApiKey(apiKey);\n  }\n};\n\nconsole.log('CCT API Client initialized (secure, backward-compatible version)');";
//# sourceMappingURL=api-client-content.d.ts.map