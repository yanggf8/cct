<svg viewBox="0 0 1200 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients for modern look -->
    <linearGradient id="sourceGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4A90E2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#357ABD;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="processGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7ED321;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#5BA517;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="streamGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F5A623;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#E89611;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="analyticsGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#BD10E0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#9013FE;stop-opacity:1" />
    </linearGradient>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="12" markerHeight="8" refX="11" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#666" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="600" fill="#f8f9fa" stroke="none"/>

  <!-- Stage Labels -->
  <text x="60" y="40" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">Source</text>
  <text x="320" y="40" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">Customer Portal DB</text>
  <text x="650" y="40" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">Streaming</text>
  <text x="950" y="40" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">Search Engine</text>

  <!-- Stage separators -->
  <line x1="240" y1="60" x2="240" y2="550" stroke="#e0e0e0" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="580" y1="60" x2="580" y2="550" stroke="#e0e0e0" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="870" y1="60" x2="870" y2="550" stroke="#e0e0e0" stroke-width="2" stroke-dasharray="5,5"/>

  <!-- Source: CDB and ETL -->
  <!-- CDB -->
  <!-- Cylinder base -->
  <rect x="30" y="215" width="120" height="65" rx="5" fill="url(#sourceGrad)" stroke="#357ABD" stroke-width="2"/>
  <!-- Cylinder top -->
  <ellipse cx="90" cy="215" rx="60" ry="15" fill="url(#sourceGrad)" stroke="#357ABD" stroke-width="2"/>
  <!-- Cylinder bottom -->
  <ellipse cx="90" cy="280" rx="60" ry="15" fill="url(#sourceGrad)" stroke="#357ABD" stroke-width="2"/>
  <text x="90" y="245" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">CDB</text>
  <text x="90" y="265" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle">Central</text>
  <text x="90" y="280" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle">Database</text>

  <!-- ETL -->
  <rect x="130" y="150" width="100" height="60" rx="10" fill="url(#sourceGrad)" stroke="#357ABD" stroke-width="2"/>
  <text x="180" y="180" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">ETL</text>
  <text x="180" y="195" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">Extract Transform Load</text>

  <!-- Processing Stage -->
  <!-- PostgreSQL -->
  <!-- Cylinder base -->
  <rect x="270" y="295" width="100" height="45" rx="5" fill="url(#processGrad)" stroke="#5BA517" stroke-width="2"/>
  <!-- Cylinder top -->
  <ellipse cx="320" cy="295" rx="50" ry="15" fill="url(#processGrad)" stroke="#5BA517" stroke-width="2"/>
  <!-- Cylinder bottom -->
  <ellipse cx="320" cy="340" rx="50" ry="15" fill="url(#processGrad)" stroke="#5BA517" stroke-width="2"/>
  <text x="320" y="320" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">PostgreSQL</text>
  <text x="320" y="335" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">Database</text>

  <!-- CDC -->
  <rect x="450" y="280" width="100" height="60" rx="10" fill="url(#processGrad)" stroke="#5BA517" stroke-width="2"/>
  <text x="500" y="305" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">CDC</text>
  <text x="500" y="320" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">Change Data Capture</text>

  <!-- Streaming Stage -->
  <!-- Kafka -->
  <rect x="620" y="200" width="120" height="80" rx="10" fill="url(#streamGrad)" stroke="#E89611" stroke-width="2"/>
  <text x="680" y="235" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Kafka</text>
  <text x="680" y="255" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle">Event Streaming</text>
  <text x="680" y="270" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle">Platform</text>

  <!-- Consumer -->
  <rect x="620" y="340" width="120" height="60" rx="10" fill="url(#streamGrad)" stroke="#E89611" stroke-width="2"/>
  <text x="680" y="365" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Consumer</text>
  <text x="680" y="380" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">Event Processor</text>

  <!-- Search Engine Stage -->
  <!-- Elasticsearch -->
  <!-- Cylinder base -->
  <rect x="920" y="215" width="130" height="65" rx="5" fill="url(#analyticsGrad)" stroke="#9013FE" stroke-width="2"/>
  <!-- Cylinder top -->
  <ellipse cx="985" cy="215" rx="65" ry="15" fill="url(#analyticsGrad)" stroke="#9013FE" stroke-width="2"/>
  <!-- Cylinder bottom -->
  <ellipse cx="985" cy="280" rx="65" ry="15" fill="url(#analyticsGrad)" stroke="#9013FE" stroke-width="2"/>
  <text x="985" y="245" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Elasticsearch</text>
  <text x="985" y="265" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle">Search Engine</text>
  <text x="985" y="280" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle">Platform</text>

  <!-- Data Flow Arrows -->
  <!-- CDB to ETL -->
  <path d="M 150 240 L 180 180" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- ETL to PostgreSQL -->
  <path d="M 230 180 L 270 270" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- PostgreSQL to CDC -->
  <path d="M 370 310 L 440 310" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- CDC to Kafka -->
  <path d="M 550 300 L 580 260 L 610 240" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Kafka to Consumer -->
  <path d="M 680 280 L 680 330" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Consumer to Elasticsearch -->
  <path d="M 740 360 L 850 280 L 910 240" stroke="#666" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Data Flow Labels -->
  <text x="165" y="205" font-family="Arial, sans-serif" font-size="11" fill="#666" transform="rotate(-25 165 205)">Raw Data</text>
  <text x="250" y="220" font-family="Arial, sans-serif" font-size="11" fill="#666" transform="rotate(-40 250 220)">CW and Prolink Data</text>
  <text x="400" y="300" font-family="Arial, sans-serif" font-size="11" fill="#666">Data Changes</text>
  <text x="590" y="265" font-family="Arial, sans-serif" font-size="11" fill="#666" transform="rotate(-20 590 265)">CDC Events</text>
  <text x="695" y="315" font-family="Arial, sans-serif" font-size="11" fill="#666">Stream Events</text>
  <text x="810" y="290" font-family="Arial, sans-serif" font-size="11" fill="#666" transform="rotate(-25 810 290)">Processed Events</text>

  <!-- Technology Icons/Indicators -->
  <circle cx="90" cy="170" r="8" fill="#4A90E2"/>
  <text x="90" y="175" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">DB</text>

  <circle cx="180" cy="120" r="8" fill="#4A90E2"/>
  <text x="180" y="125" font-family="Arial, sans-serif" font-size="8" fill="white" text-anchor="middle">ETL</text>

  <circle cx="500" cy="250" r="8" fill="#7ED321"/>
  <text x="500" y="255" font-family="Arial, sans-serif" font-size="8" fill="white" text-anchor="middle">CDC</text>

  <circle cx="680" cy="170" r="8" fill="#F5A623"/>
  <text x="680" y="175" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">K</text>

  <circle cx="985" cy="170" r="8" fill="#BD10E0"/>
  <text x="985" y="175" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">ES</text>

  <!-- Legend -->
  <rect x="30" y="450" width="1140" height="120" rx="10" fill="white" stroke="#e0e0e0" stroke-width="1"/>
  <text x="50" y="475" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">Data Pipeline Overview</text>
  
  <text x="50" y="500" font-family="Arial, sans-serif" font-size="12" fill="#666">• Source: CDB stores raw operational data → ETL extracts and transforms</text>
  <text x="50" y="520" font-family="Arial, sans-serif" font-size="12" fill="#666">• Customer Portal DB: PostgreSQL stores transformed data → CDC captures changes</text>
  <text x="50" y="540" font-family="Arial, sans-serif" font-size="12" fill="#666">• Streaming: Kafka buffers change events → Consumer applications process the stream</text>
  <text x="50" y="560" font-family="Arial, sans-serif" font-size="12" fill="#666">• Search Engine: Elasticsearch enables real-time search capabilities on processed data</text>

  <!-- Title -->
  <text x="600" y="25" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#333" text-anchor="middle">Real-Time Data Pipeline Architecture</text>
</svg>